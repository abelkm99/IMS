"use strict";(self["webpackChunkims"]=self["webpackChunkims"]||[]).push([[8862],{8862:(e,l,a)=>{a.r(l),a.d(l,{default:()=>T});var o=a(3673),r=a(2323);const s={class:"q-pa-md"},t={class:"row q-gutter-md q-pa-md"},n={class:"q-pl-sm"},i={class:"row-12"},p={class:"col-2 q-table__title"},c={key:0,class:"col"};function u(e,l,a,u,d,m){const w=(0,o.up)("q-item"),g=(0,o.up)("q-space"),h=(0,o.up)("q-toggle"),f=(0,o.up)("q-select"),b=(0,o.up)("q-btn"),k=(0,o.up)("q-td"),v=(0,o.up)("q-badge"),_=(0,o.up)("q-tr"),y=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",t,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.TransferExpense,((e,l)=>((0,o.wg)(),(0,o.j4)(w,{key:l},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(l)+": ",1),(0,o._)("span",n,[(0,o._)("b",null,(0,r.zw)(e),1)])])),_:2},1024)))),128))]),(0,o.Wm)(y,{title:d.title,rows:d.rows,columns:d.columns,"row-key":"name","visible-columns":d.visibleColumns,loading:d.loading,color:"secondary","no-data-label":"There is No Purchase Under this GRN",pagination:d.pagination,"onUpdate:pagination":l[2]||(l[2]=e=>d.pagination=e),onRequest:m.handleRequest,"rows-per-page-options":[]},{top:(0,o.w5)((a=>[(0,o._)("div",i,[(0,o._)("div",p,(0,r.zw)(d.title),1)]),(0,o.Wm)(g),e.$q.screen.gt.xs?((0,o.wg)(),(0,o.iD)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.toogle_columns,(e=>((0,o.wg)(),(0,o.j4)(w,{style:{display:"inline"},key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:d.visibleColumns,"onUpdate:modelValue":l[0]||(l[0]=e=>d.visibleColumns=e),val:e.name,label:e.label,color:"secondary"},null,8,["modelValue","val","label"])])),_:2},1024)))),128))])):((0,o.wg)(),(0,o.j4)(f,{key:1,color:"secondary",modelValue:d.visibleColumns,"onUpdate:modelValue":l[1]||(l[1]=e=>d.visibleColumns=e),multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:d.columns,"option-value":"name",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"])),(0,o.Wm)(b,{color:"secondary","icon-right":"archive",label:"Export to csv","no-caps":"",onClick:m.exportTable},null,8,["onClick"]),(0,o.Wm)(b,{flat:"",round:"",dense:"",icon:a.inFullscreen?"fullscreen_exit":"fullscreen",onClick:a.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])])),body:(0,o.w5)((e=>[(0,o.Wm)(_,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{key:"ItemType",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.ItemType),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Date",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.Date),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"GRNNO",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.GRNNO),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"IN",props:e},{default:(0,o.w5)((()=>[e.row.IN?((0,o.wg)(),(0,o.j4)(v,{key:0,color:"positive","text-color":"{2:black}",label:e.row.IN},null,8,["label"])):(0,o.kq)("",!0)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Purchase-Price",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Purchase-Price"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Purchase-Total",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Purchase-Total"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"REFNO",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.REFNO),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"OUT",props:e},{default:(0,o.w5)((()=>[e.row.OUT?((0,o.wg)(),(0,o.j4)(v,{key:0,color:"negative","text-color":"{2:black}",label:e.row.OUT},null,8,["label"])):(0,o.kq)("",!0)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Sales-Price",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Sales-Price"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Sales-Total",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Sales-Total"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Balance",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.Balance),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"WareHouse",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.Warehouse),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Shop",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.Shop),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"FIFO-COGS",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["FIFO-COGS"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Average-COGS",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Average-COGS"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"Average-Purchase-Price",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row["Average-Purchase-Price"]),1)])),_:2},1032,["props"]),(0,o.Wm)(k,{key:"SoldFrom",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,r.zw)(e.row.SoldFrom),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["title","rows","columns","visible-columns","loading","pagination","onRequest"])])}var d=a(2841),m=a(4122),w=a(7428);const g={name:"Item Stock History",data(){return{pagination:{descending:!1,page:1,rowsPerPage:2},search_data:{page:1,REFNO:"",GRNNO:"",D1:"",D2:"",ItemType:this.$route.params.ItemType,order:"Descending"},loading:!1,visibleColumns:["Date","Purchase-Price","Sales-Price","WareHouse","Shop"],columns:[{name:"ItemType",label:"Item Type",field:"ItemType",align:"left",required:!0},{name:"Date",label:"Date",field:"Date",align:"left",required:!0},{name:"GRNNO",label:"GRNNO",field:"GRNNO",align:"center",required:!0},{name:"IN",label:"IN",field:"IN",align:"center",required:!0},{name:"Purchase-Price",label:"Purchase-Price",field:"Purchase-Price",align:"center"},{name:"Purchase-Total",label:"Purchase-Total",field:"Purchase-Total",align:"center"},{name:"REFNO",label:"REFNO",field:"REFNO",align:"center",required:!0},{name:"OUT",label:"OUT",field:"OUT",align:"center",required:!0},{name:"Sales-Price",label:"Sales-Price",field:"Sales-Price",align:"center"},{name:"Sales-Total",label:"Sales-Total",field:"Sales-Total",align:"center"},{name:"Balance",label:"Balance",field:"Balance",required:!0},{name:"WareHouse",label:"WareHouse",field:"WareHouse",align:"center"},{name:"Shop",label:"Shop",field:"Shop",align:"center"},{name:"FIFO-COGS",label:"FIFO-COGS",field:"FIFO-COGS",align:"center"},{name:"Average-COGS",label:"Average-COGS",field:"Average-COGS",align:"center"},{name:"Average-Purchase-Price",label:"Average-Purchase-Price",field:"Average-Purchase-Price",align:"center"},{name:"SoldFrom",label:"Sold From FIFO",field:"SoldFrom",align:"center"}],rows:[],selected_index:null,categories:[],TransferExpense:{},title:""}},computed:{toogle_columns(){return this.columns.filter((e=>!0!==e.required))}},methods:{handleRequest(e){this.fetch_rows(e.pagination.page)},request_data_builder(e){var l=this.search_data;return l.page=e,l},fetch_rows(e){(0,m.z2)(this.request_data_builder(e)).then((e=>{const l=e.data.meta_data;this.pagination.page=l.current_page,this.pagination.rowsPerPage=l.per_page,this.pagination.rowsNumber=l.total,this.rows=e.data.data,this.loading=!1})).catch((e=>{this.rows=[],this.rows=e.response.data.data,this.loading=!1}))},wrapCsvValue(e,l){let a=void 0!==l?l(e):e;return a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),`"${a}"`},exportTable(){const e=[this.columns.map((e=>this.wrapCsvValue(e.label)))].concat(this.rows.map((e=>this.columns.map((l=>this.wrapCsvValue("function"===typeof l.field?l.field(e):e[void 0===l.field?l.name:l.field],l.format))).join(",")))).join("\r\n"),l=(0,d.Z)("table-export.csv",e,"text/csv");!0!==l&&(0,w.j)("Browser denied file download...")}},mounted(){this.fetch_rows(1)}};var h=a(3414),f=a(3243),b=a(2025),k=a(8886),v=a(8516),_=a(2165),y=a(8186),P=a(3884),S=a(9721),O=a(7518),q=a.n(O);g.render=u;const T=g;q()(g,"components",{QItem:h.Z,QTable:f.Z,QSpace:b.Z,QToggle:k.Z,QSelect:v.Z,QBtn:_.Z,QTr:y.Z,QTd:P.Z,QBadge:S.Z})}}]);