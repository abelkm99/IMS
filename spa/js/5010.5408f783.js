"use strict";(self["webpackChunkims"]=self["webpackChunkims"]||[]).push([[5010],{5010:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var r=a(3673);const o={class:"column q-gutter-md items-center"},s={class:"col items-center"},l=(0,r.Uk)("FiFO"),n=(0,r.Uk)("First IN First OUT"),i=(0,r.Uk)("Average"),c=(0,r.Uk)("Average"),p=(0,r.Uk)(" 3 Days report "),u=(0,r.Uk)(" 1 Week report "),d=(0,r.Uk)(" 2 Weeks report "),m=(0,r.Uk)(" 1 Month report "),h=(0,r.Uk)(" 2 Months report "),f=(0,r.Uk)(" 3 Months report "),y=(0,r.Uk)(" 6 Months report "),w=(0,r.Uk)(" 9 Months report "),S=(0,r.Uk)(" 1 Year report "),x={class:"row items-center justify-end q-gutter-sm"},k={class:"q-pa-lg"},g={class:"col"},W={class:"row"},_={class:"col-6"},v={class:"col-6"},b={class:"row"},D={class:"col"},C={class:"col"},E={class:"col"};function M(e,t,a,M,F,P){const O=(0,r.up)("q-item-label"),Z=(0,r.up)("q-item-section"),T=(0,r.up)("q-item"),U=(0,r.up)("q-list"),q=(0,r.up)("q-btn-dropdown"),R=(0,r.up)("q-tooltip"),I=(0,r.up)("q-btn"),B=(0,r.up)("q-date"),Q=(0,r.up)("q-popup-proxy"),Y=(0,r.up)("q-btn-group"),X=(0,r.up)("Sparkle"),A=(0,r.up)("ExpenceChart"),L=(0,r.up)("q-page"),N=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.j4)(L,{padding:""},{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r._)("div",s,[(0,r.Wm)(Y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(q,{"auto-close":"",rounded:"",color:"secondary",split:"",label:F.option},{default:(0,r.w5)((()=>[(0,r.Wm)(U,{padding:"",style:{width:"250px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{clickable:"",onClick:t[0]||(t[0]=e=>F.option="FIFO")},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O,null,{default:(0,r.w5)((()=>[l])),_:1}),(0,r.Wm)(O,{caption:""},{default:(0,r.w5)((()=>[n])),_:1})])),_:1})])),_:1}),(0,r.Wm)(T,{clickable:"",onClick:t[1]||(t[1]=e=>F.option="Average")},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,null,{default:(0,r.w5)((()=>[(0,r.Wm)(O,null,{default:(0,r.w5)((()=>[i])),_:1}),(0,r.Wm)(O,{caption:""},{default:(0,r.w5)((()=>[c])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["label"]),(0,r.Wm)(I,{color:"secondary",label:"3D",onClick:t[2]||(t[2]=e=>P.threeDays())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[p])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"1W",onClick:t[3]||(t[3]=e=>P.OneWeek())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[u])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"2W",onClick:t[4]||(t[4]=e=>P.TwoWeeks())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[d])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"1M",onClick:t[5]||(t[5]=e=>P.OneMonth())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[m])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"2M",onClick:t[6]||(t[6]=e=>P.TwoMonths())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[h])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"3M",onClick:t[7]||(t[7]=e=>P.ThreeMonths())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[f])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"6M",onClick:t[8]||(t[8]=e=>P.SixMonths())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[y])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"9M",onClick:t[9]||(t[9]=e=>P.NineMonths())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[w])),_:1})])),_:1}),(0,r.Wm)(I,{color:"secondary",label:"1Y",onClick:t[10]||(t[10]=e=>P.OneYear())},{default:(0,r.w5)((()=>[(0,r.Wm)(R,null,{default:(0,r.w5)((()=>[S])),_:1})])),_:1}),(0,r.Wm)(I,{icon:"event",round:"",color:"secondary"},{default:(0,r.w5)((()=>[(0,r.Wm)(Q,{onBeforeShow:F.proxyDate,"transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(B,{color:"secondary",range:"",modelValue:F.proxyDate,"onUpdate:modelValue":t[11]||(t[11]=e=>F.proxyDate=e)},{default:(0,r.w5)((()=>[(0,r._)("div",x,[(0,r.wy)((0,r.Wm)(I,{label:"Cancel",color:"primary",flat:""},null,512),[[N]]),(0,r.wy)((0,r.Wm)(I,{label:"OK",color:"primary",flat:"",onClick:P.save},null,8,["onClick"]),[[N]])])])),_:1},8,["modelValue"])])),_:1},8,["onBeforeShow"])])),_:1})])),_:1})])]),(0,r._)("div",k,[(0,r._)("div",g,[(0,r._)("div",W,[(0,r._)("div",_,[(0,r.Wm)(X,{Series:P.generateSeries([{name:"Total-Purchase"}]).Series},null,8,["Series"])]),(0,r._)("div",v,[(0,r.Wm)(X,{Series:P.generateSeries([{name:"Total-Sales"}]).Series},null,8,["Series"])])]),(0,r._)("div",b,[(0,r._)("div",D,[(0,r.Wm)(X,{Series:P.generateSeries([{name:"Gross-Profit",type:"area"}]).Series},null,8,["Series"])]),(0,r._)("div",C,[(0,r.Wm)(X,{Series:P.generateSeries([{name:"NET-Profit",type:"area"}]).Series},null,8,["Series"])])])]),(0,r._)("div",E,[(0,r.Wm)(A,{Series:P.generateSeries([{name:"Rent-Expence",type:"column"},{name:"Other-Expences",type:"column"},{name:"Personal-Expences",type:"column"},{name:"Bill-Expences",type:"column"},{name:"Masatefiya-Expence",type:"column"},{name:"Sallary-Expence",type:"column"},{name:"LoadingUnloading-Expence",type:"column"},{name:"Transfer-Expence",type:"column"},{name:"Total-Expence",type:"line"}]).Series},null,8,["Series"])])])])),_:1})}function F(e,t,a,o,s,l){const n=(0,r.up)("apexchart");return(0,r.wg)(),(0,r.j4)(n,{width:"100%",options:l.options,series:a.Series},null,8,["options","series"])}var P=a(1514);const O={name:"Sparkle",props:{Series:{type:Array,default(){return[]}}},computed:{options(){return{chart:{id:this.Series[0].name,type:"area",stacked:!0,height:400,sparkline:{enabled:!1}},stroke:{curve:"straight"},fill:{colors:["#008FFB"]},legend:{position:"top",offsetY:-100,offsetX:180,show:!0},xaxis:{type:"datetime"},yaxis:{},colors:P({count:1,hue:"green"}),title:{text:this.Series[0].title+" Birr",offsetX:30,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}},subtitle:{text:this.Series[0].name,offsetX:30,style:{fontSize:"14px",cssClass:"apexcharts-yaxis-title"}}}}}};O.render=F;const Z=O,T={id:"chart"};function U(e,t,a,o,s,l){const n=(0,r.up)("apexchart");return(0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(n,{height:"500",options:l.ChartOption,series:a.Series},null,8,["options","series"])])}var q=a(1514);const R={name:"ExpenceChart",props:{Title:{type:String,default:"Total Expence"},Subtitle:{Title:{type:String,default:"0"}},Series:{type:Array,default(){return[]}}},data(){return{}},computed:{color(){return q({count:this.Series.length})},ChartOption(){return{chart:{id:this.Series[0].name,type:"line",stacked:!0,sparkline:{enabled:!1}},stroke:{width:[0,10]},dataLabels:{enabled:!0,enabledOnSeries:[1]},fill:{opacity:1},legend:{position:"bottom",offsetY:0,offsetX:0,show:!0},xaxis:{type:"datetime"},yaxis:{},colors:q({count:this.Series.length,hue:"random",alpha:1}),title:{text:this.Series.slice(-1)[0].title+"Birr",offsetX:30,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}},subtitle:{text:this.Series.slice(-1)[0].name,offsetX:30,style:{fontSize:"14px",cssClass:"apexcharts-yaxis-title"}}}}}};R.render=U;const I=R;var B=a(6430),Q=a(5616);const Y={name:"Dashboard",components:{Sparkle:Z,ExpenceChart:I},data(){return{option:"FIFO",proxyDate:null,templateRequest:{date1:null,date2:null,option:"FIFO",dayInterval:1,weekInterval:0,monthInterval:0,yearInterval:0},report:[],mapper:["Total-Purchase","Total-Sales","Cost-Of-Sales","Gross-Profit","Rent-Expence","Other-Expences","Personal-Expences","Bill-Expences","Masatefiya-Expence","LoadingUnloading-Expence","Sallary-Expence","Transfer-Expence","Other-Incomes","Bank-Deposit","Bank-Withdrawal","Purchases-CreditSettlement","Sales-CreditSettlement","Total-Expence","NET-Profit"]}},methods:{generateSeries(e){var t=[];return e.forEach((e=>{var a=Object.assign({},this.calculated_data[e.name]);"type"in e&&(a["type"]=e.type),t.push(a)})),{Series:t}},dateFOrmatter(e){return Q.ZP.formatDate(e,"YYYY-MM-DD")},getReport(e,t,a){const r=this.templateRequest;r.date1=this.dateFOrmatter(e),r.date2=this.dateFOrmatter(t),r.dayInterval=a,r.option=this.option,(0,B.R)(r).then((e=>{this.report=e.data})).catch((e=>{}))},threeDays(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{days:3});this.getReport(a,t,1)},OneWeek(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{days:7});this.getReport(a,t,1)},TwoWeeks(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{days:14});this.getReport(a,t,2)},OneMonth(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{months:1});this.getReport(a,t,3)},TwoMonths(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{months:2});this.getReport(a,t,5)},ThreeMonths(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{months:3});this.getReport(a,t,7)},SixMonths(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{months:6});this.getReport(a,t,14)},NineMonths(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{months:9});this.getReport(a,t,14)},OneYear(){var e=new Date,t=e,a=Q.ZP.subtractFromDate(e,{years:1});this.getReport(a,t,30)},save(){var e=this.proxyDate.from,t=this.proxyDate.to;const a=Q.ZP.getDateDiff(t,e,"days");this.getReport(e,t,Math.floor(a/10))}},computed:{calculated_data(){var e={};return this.mapper.forEach((t=>{var a=0,r=this.report.map((e=>[e.Date,e.report[t]]));r.length>1&&(a=r.splice(-1)[0][1]),e[t]={name:t,data:r,title:a}})),e}},mounted(){}};var X=a(4379),A=a(6375),L=a(2226),N=a(1046),j=a(3414),z=a(2035),G=a(2350),V=a(2165),K=a(8870),H=a(3944),J=a(2651),$=a(677),ee=a(7518),te=a.n(ee);Y.render=M;const ae=Y;te()(Y,"components",{QPage:X.Z,QBtnGroup:A.Z,QBtnDropdown:L.Z,QList:N.Z,QItem:j.Z,QItemSection:z.Z,QItemLabel:G.Z,QBtn:V.Z,QTooltip:K.Z,QPopupProxy:H.Z,QDate:J.Z}),te()(Y,"directives",{ClosePopup:$.Z})}}]);